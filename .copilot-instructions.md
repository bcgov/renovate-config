# Copilot Instructions for Renovate Config Repository

## Critical Operations Requiring Explicit Permission

### Releases & Tags
- **NEVER create releases without explicit permission**
- **NEVER delete or create tags without explicit permission**
- **NEVER trigger release workflows without explicit permission**

### Repository Management
- **NEVER force-push to main branch**
- **ALWAYS ask before making changes that could break downstream repositories**
- **ALWAYS test changes locally first when possible**
- **ALWAYS validate Renovate configurations locally before committing:**
  ```bash
  npx --yes --package renovate --- "renovate-config-validator --strict default.json renovate.json rules-*.json5"
  ```

### Workflow & CI/CD
- **NEVER modify GitHub Actions workflows without explicit permission**
- **NEVER change CI/CD configurations without explicit permission**

## General Preferences
- Prefer incremental, verified changes over large refactoring
- Always ensure application functionality before proceeding
- If feedback conflicts with existing requirements or best practices, provide a reasoned explanation and seek clarification or suggest an alternative approach
- Prefer frequent and small pull requests
- Never use local .env files

## Configuration Consistency Rules
- **NEVER mix versioned and unversioned references in the same configuration file**
- When editing `default.json` or other preset files, ensure all internal references match the intended usage pattern:
  - For unversioned usage (`github>bcgov/renovate-config`): use unversioned internal references
  - For versioned usage (`github>bcgov/renovate-config#v1`): use versioned internal references
- **ALWAYS verify that preset references are consistent before committing changes**
